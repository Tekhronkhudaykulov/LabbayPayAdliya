import{u as v,a as E,r as N,j as a,A as p}from"./index-2c8e8237.js";import{A as S}from"./assets-8ecff1c4.js";import{T as n}from"./view-305a4ff1.js";import{u as x}from"./useCustomPost-ccc383b8.js";import{e as d,m as C}from"./endpoints-a705306d.js";import{B as u}from"./button-389252e4.js";const U=()=>{var c,r;const i=v(),{responseData:m,setError:l,setCheck:f,check:s}=E(),{mutate:b}=x({onSuccess:async t=>{console.log(t,"res"),f(t==null?void 0:t.result)},onError:t=>{var e,o;l((o=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:o.message)}});N.useEffect(()=>{m&&b({endpoint:d.checkInfo,body:{transactionId:m}})},[]);const{mutate:g}=x({baseURL:"http://localhost:5555",onSuccess:()=>{i(p.HOME)},onError:t=>{var e,o;l((o=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:o.message)}}),y=(r=(c=s==null?void 0:s.detail_params)==null?void 0:c.filter(t=>t.value))==null?void 0:r.map(t=>({key:t.labelUz,value:t.value})),h=()=>{g({endpoint:d.print,body:{list:y,tranId:s==null?void 0:s.id,amount:s==null?void 0:s.amount}})},j={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeInOut"}}};return a.jsxs(C.div,{className:"flex flex-col h-full w-[65%] mx-auto pb-16",initial:"hidden",animate:"visible",variants:j,children:[a.jsx("img",{src:S.Success,className:"h-[150px]",alt:""}),a.jsx(n,{text:"УСПЕШНО",className:"text-[45px] font-[700] text-center mt-8 mb-14"}),a.jsx(n,{text:"Ваши средства зачислены.",className:"text-[28px] font-[500] text-center"}),a.jsx(n,{text:"Распечатать чек?",className:"text-[28px] font-[500] text-center"}),a.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-4",children:[a.jsx(u,{onClick:()=>i(p.HOME),className:"!bg-btnRed",type:"primary",children:"Нет (30)"}),a.jsx(u,{onClick:h,className:"!bg-btnGreen",type:"primary",children:"Да"})]})]})};export{U as default};
